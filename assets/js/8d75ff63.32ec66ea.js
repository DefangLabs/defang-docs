"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[3994],{28453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>i});var t=o(96540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},50671:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var t=o(74848),s=o(28453);const r={title:"Beyond Heroku: Owning Your Deployments",description:"Why scaling off Heroku matters, what happens during a migration, and how the Defang CLI makes the transition to AWS painless.",slug:"heroku-to-aws",tags:["Heroku","AWS","Migration","PaaS vs IaaS","Cloud","DevOps","Defang","Docker Compose"],author:"Defang Team",date:new Date("2025-09-25T00:00:00.000Z")},a=void 0,i={permalink:"/blog/heroku-to-aws",source:"@site/blog/2025-09-25-heroku-migration.md",title:"Beyond Heroku: Owning Your Deployments",description:"Why scaling off Heroku matters, what happens during a migration, and how the Defang CLI makes the transition to AWS painless.",date:"2025-09-25T00:00:00.000Z",formattedDate:"September 25, 2025",tags:[{label:"Heroku",permalink:"/blog/tags/heroku"},{label:"AWS",permalink:"/blog/tags/aws"},{label:"Migration",permalink:"/blog/tags/migration"},{label:"PaaS vs IaaS",permalink:"/blog/tags/paa-s-vs-iaa-s"},{label:"Cloud",permalink:"/blog/tags/cloud"},{label:"DevOps",permalink:"/blog/tags/dev-ops"},{label:"Defang",permalink:"/blog/tags/defang"},{label:"Docker Compose",permalink:"/blog/tags/docker-compose"}],readingTime:6.025,hasTruncateMarker:!1,authors:[{name:"Defang Team"}],frontMatter:{title:"Beyond Heroku: Owning Your Deployments",description:"Why scaling off Heroku matters, what happens during a migration, and how the Defang CLI makes the transition to AWS painless.",slug:"heroku-to-aws",tags:["Heroku","AWS","Migration","PaaS vs IaaS","Cloud","DevOps","Defang","Docker Compose"],author:"Defang Team",date:"2025-09-25T00:00:00.000Z"},unlisted:!1,nextItem:{title:"Deployments in the Agentic Era",permalink:"/blog/agentic-era"}},l={authorsImageUrls:[void 0]},d=[{value:"<strong>Heroku vs. AWS</strong>",id:"heroku-vs-aws",level:2},{value:"<strong>Pricing and scale</strong>",id:"pricing-and-scale",level:3},{value:"<strong>Why leave Heroku?</strong>",id:"why-leave-heroku",level:2},{value:"<strong>Migration in minutes: how the Defang CLI works</strong>",id:"migration-in-minutes-how-the-defang-cli-works",level:2},{value:"<strong>Why this matters</strong>",id:"why-this-matters",level:2},{value:"<strong>Try it yourself</strong>",id:"try-it-yourself",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/9ER_T7_fUlU?si=KpdLEK7USLOtmOk3",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,t.jsx)(n.p,{children:"When you launch a new app, convenience rules. Platforms like Heroku offer a beautifully simple way to push code and see it live in minutes. You don\u2019t need to think about servers, networks or databases. You just deploy. That\u2019s why so many of us start there."}),"\n",(0,t.jsx)(n.p,{children:"But convenience has a cost. As your product grows, you want more control over performance and security. You want to integrate your own services, tune the infrastructure and optimize your spend. Heroku\u2019s dyno\u2011based pricing, which starts around $25/month for a modest dyno and climbs to hundreds of dollars for high\u2011performance dynos, can become prohibitive for serious production workloads. And while Heroku abstracts away the underlying cloud, that abstraction also means you can\u2019t fine\u2011tune the way your application runs."}),"\n",(0,t.jsxs)(n.p,{children:["This trade\u2011off eventually becomes untenable. Teams need the simplicity of a platform like Heroku ",(0,t.jsx)(n.em,{children:"and"})," the power and trust of running inside their own AWS account. This post unpacks why migrating off Heroku matters, highlights the friction points when you try to move to AWS yourself, and shows how the ",(0,t.jsx)(n.strong,{children:"Defang CLI"})," bridges the gap."]}),"\n",(0,t.jsx)(n.h2,{id:"heroku-vs-aws",children:(0,t.jsx)(n.strong,{children:"Heroku vs. AWS"})}),"\n",(0,t.jsx)(n.p,{children:"Heroku is a Platform\u2011as\u2011a\u2011Service very focused on simplicity and ease of use, while AWS offers a huge array of extremely powerful services that can be difficult to navigate alone. What you get from Heroku is the ability to deploy your application with a simple git push, scale by adding dynos and pick from a marketplace of add\u2011ons. But you miss out on much of the power of AWS, like the ability to organize and network services the way you want, the ability to deploy in a huge number of regions, their reliability, and much of the control you need to be called enterprise-ready. AWS also tends to be more cost effective as you scale and offers a wide variety of scalable storage options including Postgres, MongoDB, Redis, and more."}),"\n",(0,t.jsx)(n.h3,{id:"pricing-and-scale",children:(0,t.jsx)(n.strong,{children:"Pricing and scale"})}),"\n",(0,t.jsx)(n.p,{children:"Heroku\u2019s pricing is tied to dynos. Eco dynos cost about $5/month for 1,000 hours, while standard dynos run $25\u2013$50/month and performance dynos jump to $250\u2013$1,500/month. Those numbers are predictable, but if your traffic spikes or you need more compute, your dyno bill scales quickly. Databases and Redis add\u2011ons are also billed per gigabyte, adding to the total cost."}),"\n",(0,t.jsx)(n.p,{children:"AWS uses a pay\u2011as\u2011you\u2011go model: you pay for the exact resources you use, whether on\u2011demand compute, reserved instances or spot capacity. This model can be far cheaper at scale, especially if you commit to reserved or savings plans, but it also introduces complexity. Besides compute, you need to factor in elastic IPs, data transfer, load balancers and NAT gateways. AWS rewards expertise: you can optimize costs but only if you understand its pricing levers."}),"\n",(0,t.jsx)(n.h2,{id:"why-leave-heroku",children:(0,t.jsx)(n.strong,{children:"Why leave Heroku?"})}),"\n",(0,t.jsx)(n.p,{children:"For many teams, Heroku is the right starting point. But there are clear inflection points when it makes sense to graduate:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Escalating costs"}),".\nAs your user base grows, dyno bills rise exponentially. At some point, the predictable price premium no longer justifies the convenience."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Performance and scalability demands"}),".\nHigh\u2011traffic applications need flexible scaling and the ability to choose instance sizes and storage types. Heroku\u2019s dyno types can be limiting for CPU\u2011 or memory\u2011intensive workloads."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Compliance and data sovereignty"}),".\nCustomers in regulated industries often require apps to run in their own cloud account and under their own compliance controls."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Customization"}),".\nYou might need to integrate bespoke networking, private databases or other services not available as Heroku add\u2011ons. AWS\u2019s vast ecosystem of more than 240 services makes these integrations possible."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Yet the path off Heroku isn\u2019t trivial. Re\u2011platforming often means rewriting your application to use AWS services directly, building new CI/CD pipelines, managing IAM roles and provisioning infrastructure by hand. That\u2019s a big lift for developers who just want to ship features."}),"\n",(0,t.jsx)(n.h2,{id:"migration-in-minutes-how-the-defang-cli-works",children:(0,t.jsx)(n.strong,{children:"Migration in minutes: how the Defang CLI works"})}),"\n",(0,t.jsxs)(n.p,{children:["In our recent video (\u201c",(0,t.jsx)(n.em,{children:"How to migrate from Heroku to AWS in 5\xa0minutes!"}),"\u201d), we demonstrated a Django + Postgres app running on Heroku. The goal: deploy it into our own AWS account without rewriting anything. Here\u2019s how it works:"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Import your Heroku app."}),"\nAfter installing and logging into the Defang CLI, run:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"defang init"})}),"\n",(0,t.jsxs)(n.p,{children:["Then select ",(0,t.jsx)(n.code,{children:"Migrate from Heroku"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Defang connects to the Heroku API, inspects your app\u2019s dynos, add\u2011ons and configuration variables, and generates a Docker Compose file. It translates Procfile commands into services and records dependencies like Postgres and Redis."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review the Compose file."}),"\nYou should always examine the generated compose.yaml. You can adjust ports or remove unnecessary services. In the demo we changed the exposed port to 8000 and confirmed everything looked reasonable."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Select your cloud."}),"\nWe authenticated against AWS and selected a profile (",(0,t.jsx)(n.code,{children:"AWS_PROFILE=defang-lab"}),"). In Defang, you set a provider with an environment variable ",(0,t.jsx)(n.code,{children:"DEFANG_PROVIDER=aws"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"You can either export these, or pass them to each command:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"AWS_PROFILE=defang-lab DEFANG_PROVIDER=aws defang <command>"})}),"\n",(0,t.jsx)(n.p,{children:"Or you can set them as environment variables:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"export AWS_PROFILE=defang-lab DEFANG_PROVIDER=aws"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Set your secrets."}),"\nYou then run ",(0,t.jsx)(n.code,{children:"defang config set"})," to provide any secrets (database user, password, database name) that were previously stored in Heroku. These secrets are encrypted at rest and passed securely to your services deployment."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deploy with one command."}),"\nFinally, execute:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"defang up"})}),"\n",(0,t.jsx)(n.p,{children:"Defang provisions an ECS cluster, RDS database, VPC, security groups, DNS records, load balancer, and more for your application. It also provisions a release service to handle migrations and brings up your web service once the database is ready. Eventually you get a public URL for your working application."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Verify and scale."})}),"\n",(0,t.jsx)(n.p,{children:"The entire migration took roughly five minutes from start to finish, with zero changes to application code. Instead of rewriting our Django settings or learning the intricacies of ECS, we let Defang automate the heavy lifting."}),"\n",(0,t.jsx)(n.h2,{id:"why-this-matters",children:(0,t.jsx)(n.strong,{children:"Why this matters"})}),"\n",(0,t.jsxs)(n.p,{children:["The migration from Heroku to AWS delivers two critical advantages that matter most to growing teams: ",(0,t.jsx)(n.strong,{children:"cost savings"})," and ",(0,t.jsx)(n.strong,{children:"power and flexibility"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"As we covered earlier, Heroku's dyno pricing can quickly escalate from $25/month to hundreds or even thousands as you scale. AWS's pay-as-you-go model, combined with reserved instances and spot capacity, can reduce your infrastructure costs by 60-80% at scale (depends on your use case). You pay only for what you use, when you use it."}),"\n",(0,t.jsx)(n.p,{children:"More importantly, you gain access to AWS's full ecosystem of 240+ services. Need a specific instance type for CPU-intensive workloads? Custom networking for multi-region deployments? Advanced monitoring and logging? On Heroku, you're limited to what's available in their add-on marketplace. On AWS, you can integrate any service, tune performance at the infrastructure level, and architect solutions that simply aren't possible on a PaaS."}),"\n",(0,t.jsx)(n.p,{children:"For some teams, there's also the benefit of deploying into customer cloud accounts for compliance and data sovereignty requirements."}),"\n",(0,t.jsx)(n.p,{children:"Defang bridges this gap by giving you Heroku-like simplicity with AWS power."}),"\n",(0,t.jsx)(n.h2,{id:"try-it-yourself",children:(0,t.jsx)(n.strong,{children:"Try it yourself"})}),"\n",(0,t.jsxs)(n.p,{children:["If your team is outgrowing Heroku or you need to bring your application into your customers\u2019 cloud, give our migration workflow a spin. Install the Defang CLI, run defang init migrate-from-heroku, and watch your app come to life in AWS. You can find more details in our ",(0,t.jsx)(n.a,{href:"https://docs.defang.io/docs/tutorials/migrating-from-heroku",children:"official migration guide"}),". We\u2019d love to hear what you deploy and what features you\u2019d like us to add next."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);