"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[65],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var o=n(96540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}},97164:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"concepts/estimation","title":"Cost Estimation","description":"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account.","source":"@site/docs/concepts/estimation.md","sourceDirName":"concepts","slug":"/concepts/estimation","permalink":"/docs/concepts/estimation","draft":false,"unlisted":false,"editUrl":"https://github.com/DefangLabs/defang-docs/tree/main/docs/concepts/estimation.md","tags":[],"version":"current","frontMatter":{"title":"Cost Estimation","description":"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account."},"sidebar":"docsSidebar","previous":{"title":"Domains","permalink":"/docs/concepts/domains"},"next":{"title":"Generate","permalink":"/docs/concepts/generate"}}');var s=n(74848),i=n(28453);const a={title:"Cost Estimation",description:"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account."},r="Cost Estimation",d={},c=[{value:"Generating an Estimate",id:"generating-an-estimate",level:2},{value:"Deploying your project",id:"deploying-your-project",level:2},{value:"Supported Providers",id:"supported-providers",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"cost-estimation",children:"Cost Estimation"})}),"\n",(0,s.jsx)(t.p,{children:"Defang enables you to estimate the cost of deploying and running your project without needing to create an account with your cloud provider."}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Currently, AWS and GCP are supported for cost estimation. Support for Digital Ocean is coming soon."})}),"\n",(0,s.jsx)(t.h2,{id:"generating-an-estimate",children:"Generating an Estimate"}),"\n",(0,s.jsx)(t.p,{children:"Navigate your shell to your application's working directory and run"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"defang estimate [--provider=aws|gcp] [--mode=affordable|balanced|high_availability]\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here is an example of the output you would see if you estimated the cost deploying the ",(0,s.jsx)(t.a,{href:"https://github.com/DefangLabs/samples/tree/main/samples/django-postgres",children:"django-postgres"})," to AWS sample using the ",(0,s.jsx)(t.code,{children:"balanced"})," ",(0,s.jsx)(t.a,{href:"/docs/concepts/deployment-modes",children:"deployment mode"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'defang estimate --provider=aws --mode=balanced\n * Packaging the project files for django at /Users/defang/samples/samples/django-postgres/app\n * Generating deployment preview\n * Preparing estimate\n\nEstimate for Deployment Mode: BALANCED\n\nThis mode strikes a balance between cost and availability. Your application\nwill be deployed with spot instances. Databases will be provisioned using\nresources optimized for production. Services in the "internal" network will\nbe deployed to a private subnet with a NAT gateway for outbound internet access.\n\nCost    Quantity           Service   Description\n$16.43  730 Hours          (shared)  AWSELB USW2-LoadBalancerUsage\n$32.85  730 Hours          (shared)  AmazonEC2 USW2-NatGateway-Hours\n$25.00  100 %Utilized/mo   db        AmazonRDS USW2-InstanceUsage:db.r5.large\n$1.62   14600 GB-Hours     django    AmazonECS USW2-Fargate-EphemeralStorage-GB-Hours (20 GB * 730 hours)\n$1.62   365 GB-Hours       django    AmazonECS USW2-Fargate-GB-Hours (0.50 GB * 730 hours)\n-$1.14  365 GB-Hours       django    AmazonECS USW2-Fargate-GB-Hours-SpotDiscount (Estimated @ 70%)\n$7.39   182.50 vCPU-Hours  django    AmazonECS USW2-Fargate-vCPU-Hours:perCPU (0.25 vCPU * 730 hours)\n-$5.17  182.50 vCPU-Hours  django    AmazonECS USW2-Fargate-vCPU-Hours:perCPU-SpotDiscount (Estimated @ 70%)\nEstimated Monthly Cost: $78.60 (+ usage)\n\nEstimate does not include taxes or Discount Programs.\nTo estimate other modes, use defang estimate --mode=affordable|balanced|high_availability\nFor help with warnings, check our FAQ at https://s.defang.io/warnings\n'})}),"\n",(0,s.jsxs)(t.p,{children:["This estimate will include a line item for the most significant monthly costs associated with the services described in your project's compose file. If you modify the ",(0,s.jsx)(t.a,{href:"/docs/concepts/compose#deploy",children:(0,s.jsx)(t.code,{children:"deploy.resources.reservations"})})," section of your compose file, to increase or decrease replicas, CPU or memory allocations, those changes will be reflected in this estimate."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Some charges will not be included in this estimate, including charges related to usage like data transfer and storage costs."})}),"\n",(0,s.jsx)(t.h2,{id:"deploying-your-project",children:"Deploying your project"}),"\n",(0,s.jsx)(t.p,{children:"Now that you have estimated the costs associated with your project. You are ready to deploy to your target cloud."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"defang compose up [--provider aws|gcp|digitalocean] [--mode affordable|balanced|high_availability]\n"})}),"\n",(0,s.jsx)(t.h2,{id:"supported-providers",children:"Supported Providers"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Provider"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Estimation Support"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Playground"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"AWS"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"DigitalOcean"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"GCP"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"\u2705"})]})]})]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);