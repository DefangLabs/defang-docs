"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[65],{14295:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var n=t(74848),s=t(28453);const a={title:"Cost Estimation",description:"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account.",sidebar_position:280},i="Cost Estimation",r={id:"concepts/estimation",title:"Cost Estimation",description:"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account.",source:"@site/docs/concepts/estimation.md",sourceDirName:"concepts",slug:"/concepts/estimation",permalink:"/docs/concepts/estimation",draft:!1,unlisted:!1,editUrl:"https://github.com/DefangLabs/defang-docs/tree/main/docs/concepts/estimation.md",tags:[],version:"current",sidebarPosition:280,frontMatter:{title:"Cost Estimation",description:"Defang enables you to estimate the cost of deploying and running your project before you even create a cloud account.",sidebar_position:280},sidebar:"docsSidebar",previous:{title:"Domains",permalink:"/docs/concepts/domains"},next:{title:"Networking",permalink:"/docs/concepts/networking"}},c={},d=[{value:"Generating an Estimate",id:"generating-an-estimate",level:2},{value:"Deploying your project",id:"deploying-your-project",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"cost-estimation",children:"Cost Estimation"}),"\n",(0,n.jsx)(o.p,{children:"Defang enables you to estimate the cost of deploying and running your project without needing to create an account with your cloud provider."}),"\n",(0,n.jsx)(o.admonition,{type:"info",children:(0,n.jsx)(o.p,{children:"Currently, AWS is the only provider supported for cost estimation. Support for GCP and Digital Ocean is coming soon."})}),"\n",(0,n.jsx)(o.h2,{id:"generating-an-estimate",children:"Generating an Estimate"}),"\n",(0,n.jsx)(o.p,{children:"Navigate your shell to your application's working directory and run"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"defang estimate [--provider aws] [--mode affordable|balanced|high_availability]\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Here is an example of the output you would see if you estimated the cost deploying the ",(0,n.jsx)(o.a,{href:"https://github.com/DefangLabs/samples/tree/main/samples/django-postgres",children:"django-postgres"})," sample using the ",(0,n.jsx)(o.code,{children:"balanced"})," ",(0,n.jsx)(o.a,{href:"/docs/concepts/deployment-modes",children:"deployment mode"}),"."]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'defang estimate --provider=aws --mode=balanced\n * Packaging the project files for django at /Users/defang/samples/samples/django-postgres/app\n * Generating deployment preview\n * Preparing estimate\n\nEstimate for Deployment Mode: BALANCED\n\nThis mode strikes a balance between cost and availability. Your application\nwill be deployed with spot instances. Databases will be provisioned using\nresources optimized for production. Services in the "internal" network will\nbe deployed to a private subnet with a NAT gateway for outbound internet access.\n\nCost    Quantity           Service   Description\n$16.43  730 Hours          (shared)  AWSELB USW2-LoadBalancerUsage\n$32.85  730 Hours          (shared)  AmazonEC2 USW2-NatGateway-Hours\n$25.00  100 %Utilized/mo   db        AmazonRDS USW2-InstanceUsage:db.r5.large\n$1.62   14600 GB-Hours     django    AmazonECS USW2-Fargate-EphemeralStorage-GB-Hours (20 GB * 730 hours)\n$1.62   365 GB-Hours       django    AmazonECS USW2-Fargate-GB-Hours (0.50 GB * 730 hours)\n-$1.14  365 GB-Hours       django    AmazonECS USW2-Fargate-GB-Hours-SpotDiscount (Estimated @ 70%)\n$7.39   182.50 vCPU-Hours  django    AmazonECS USW2-Fargate-vCPU-Hours:perCPU (0.25 vCPU * 730 hours)\n-$5.17  182.50 vCPU-Hours  django    AmazonECS USW2-Fargate-vCPU-Hours:perCPU-SpotDiscount (Estimated @ 70%)\nEstimated Monthly Cost: $78.60 (+ usage)\n\nEstimate does not include taxes or Discount Programs.\nTo estimate other modes, use defang estimate --mode=affordable|balanced|high_availability\nFor help with warnings, check our FAQ at https://s.defang.io/warnings\n'})}),"\n",(0,n.jsxs)(o.p,{children:["This estimate will include a line item for the most significant monthly costs associated with the services described in your project's compose file. If you modify the ",(0,n.jsx)(o.a,{href:"/docs/concepts/compose#deploy",children:(0,n.jsx)(o.code,{children:"deploy.resources.reservations"})})," section of your compose file, to increase or decrease replicas, CPU or memory allocations, those changes will be reflected in this estimate."]}),"\n",(0,n.jsx)(o.admonition,{type:"info",children:(0,n.jsx)(o.p,{children:"Some charges will not be included in this estimate, including charges related to usage like data transfer and storage costs."})}),"\n",(0,n.jsx)(o.h2,{id:"deploying-your-project",children:"Deploying your project"}),"\n",(0,n.jsx)(o.p,{children:"Now that you have estimated the costs associated with your project. You are ready to deploy to your target cloud."}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"defang compose up [--provider aws|gcp|digitalocean] [--mode affordable|balanced|high_availability]\n"})})]})}function p(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,o,t)=>{t.d(o,{R:()=>i,x:()=>r});var n=t(96540);const s={},a=n.createContext(s);function i(e){const o=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(a.Provider,{value:o},e.children)}}}]);