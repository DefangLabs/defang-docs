"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[8338],{6615:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/playground-prompt-5ef59b124d2c09abcb9c9afa9ee91db2.png"},12365:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/gcp-project-id-7c8a210b5fa74a48e848b53535f1973f.png"},18654:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/getting-started-portal-74f41612cb1dd8027e32e8b7ec078735.png"},28453:(e,t,o)=>{o.d(t,{R:()=>i,x:()=>c});var n=o(96540);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}},31064:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/gcp-prompt-7dc4fb2adc5aa96b585185888a4ff76b.png"},39005:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/start-server-6ee947ed151288f87069f66bdd0017da.png"},50564:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"tutorials/deploying-with-the-defang-mcp-server","title":"Deploying with the Defang MCP Server","description":"This tutorial will show you how to deploy your services with the Defang MCP Server.","source":"@site/docs/tutorials/deploying-with-the-defang-mcp-server.md","sourceDirName":"tutorials","slug":"/tutorials/deploying-with-the-defang-mcp-server","permalink":"/docs/tutorials/deploying-with-the-defang-mcp-server","draft":false,"unlisted":false,"editUrl":"https://github.com/DefangLabs/defang-docs/tree/main/docs/tutorials/deploying-with-the-defang-mcp-server.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialsSidebar","previous":{"title":"Deploying from GitHub Actions","permalink":"/docs/tutorials/deploying-from-github-actions"},"next":{"title":"Estimating AWS Deployment Costs","permalink":"/docs/tutorials/estimating-aws-deployment-costs"}}');var s=o(74848),r=o(28453);const i={},c="Deploying with the Defang MCP Server",l={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"AWS",id:"aws",level:2},{value:"Step 1 - Collect your credentials",id:"step-1---collect-your-credentials",level:3},{value:"Step 2 - Create a stack for deployment on AWS",id:"step-2---create-a-stack-for-deployment-on-aws",level:3},{value:"Step 3 - Deploy",id:"step-3---deploy",level:3},{value:"Step 4 - Inspect your deployment",id:"step-4---inspect-your-deployment",level:3},{value:"GCP",id:"gcp",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Step 1 - Collect your credentials",id:"step-1---collect-your-credentials-1",level:3},{value:"Step 2 - Setup Defang for GCP",id:"step-2---setup-defang-for-gcp",level:3},{value:"Step 3 - Deploy",id:"step-3---deploy-1",level:3},{value:"Step 4 - Inspect your deployment",id:"step-4---inspect-your-deployment-1",level:3},{value:"Playground",id:"playground",level:2},{value:"Step 1 - Setting your provider",id:"step-1---setting-your-provider",level:3},{value:"Step 2 - Deploy",id:"step-2---deploy",level:3},{value:"Step 3 - Inspect your deployment",id:"step-3---inspect-your-deployment",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"deploying-with-the-defang-mcp-server",children:"Deploying with the Defang MCP Server"})}),"\n",(0,s.jsxs)(t.p,{children:["This tutorial will show you how to deploy your services with the ",(0,s.jsx)(t.a,{href:"/docs/concepts/mcp",children:"Defang MCP Server"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/docs/concepts/mcp#installation",children:"The Defang MCP Server"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/docs/concepts/authentication",children:"A Defang Account"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsxs)(t.a,{href:"https://docs.docker.com/compose/gettingstarted/",children:["A ",(0,s.jsx)(t.code,{children:"compose.yaml"})," file in your project"]})}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Open your project with an IDE that has the ",(0,s.jsx)(t.a,{href:"/docs/concepts/mcp",children:"Defang MCP Server"})," installed."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["If the Defang MCP server doesn\u2019t start automatically, try starting or restarting it from your IDE settings.\n",(0,s.jsx)(t.img,{alt:"VS Code",src:o(39005).A+"",width:"596",height:"152"})]})}),"\n",(0,s.jsx)(t.h2,{id:"aws",children:"AWS"}),"\n",(0,s.jsx)(t.h3,{id:"step-1---collect-your-credentials",children:"Step 1 - Collect your credentials"}),"\n",(0,s.jsxs)(t.p,{children:["There are many ways to authenticate with your ",(0,s.jsx)(t.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-authentication.html",children:"AWS account"}),". We recommend using the ",(0,s.jsx)(t.a,{href:"https://docs.aws.amazon.com/signin/latest/userguide/command-line-sign-in.html",children:(0,s.jsx)(t.code,{children:"aws login"})})," cli command to create a profile with short-lived credentials. Defang can then use this profile to deploy your services."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["You can use the AWS CLI to verify that you've authenticated to AWS by running ",(0,s.jsx)(t.code,{children:"aws sts get-caller-identity"}),". This will show you the currently authenticated account ID. (The AWS CLI is not required in order to use Defang with AWS)"]})}),"\n",(0,s.jsx)(t.h3,{id:"step-2---create-a-stack-for-deployment-on-aws",children:"Step 2 - Create a stack for deployment on AWS"}),"\n",(0,s.jsxs)(t.p,{children:["When you deploy your project, you will need to create a new ",(0,s.jsx)(t.a,{href:"/docs/concepts/stacks",children:"stack"}),". This stack is an isolated deployment of your project in a specific cloud account and region. Defang will ask you what which region you want the stack to be deployed to, and also what you want the stack to be called. You will also be asked to provide your AWS credentials. If you have created a profile, you can mention it by name, and defang will use the credentials from that profile. Your credentials are never stored by Defang."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["If you want to use AWS Access Keys, we recommend using ",(0,s.jsx)(t.code,{children:"aws configure"})," to set them up in a profile, rather than passing them directly to Defang."]})}),"\n",(0,s.jsx)(t.h3,{id:"step-3---deploy",children:"Step 3 - Deploy"}),"\n",(0,s.jsx)(t.p,{children:"Once the prompt completes without errors, your chat input will be automatically populated with the deployment command for the IDE to execute."}),"\n",(0,s.jsx)(t.h3,{id:"step-4---inspect-your-deployment",children:"Step 4 - Inspect your deployment"}),"\n",(0,s.jsxs)(t.p,{children:["You can check the status of your deployment by using the ",(0,s.jsx)(t.a,{href:"../concepts/mcp#services",children:"Defang Services tool"})," or you can inspect the resources created in your AWS Dashboard."]}),"\n",(0,s.jsx)(t.h2,{id:"gcp",children:"GCP"}),"\n",(0,s.jsx)(t.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://cloud.google.com/sdk/docs/install",children:"gcloud CLI"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment",children:"GCP Application Default Credentials"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-1---collect-your-credentials-1",children:"Step 1 - Collect your credentials"}),"\n",(0,s.jsxs)(t.p,{children:["After signing in to your GCP account, select an existing project or ",(0,s.jsx)(t.a,{href:"https://developers.google.com/workspace/guides/create-project",children:"create a new project"}),". Make sure ",(0,s.jsx)(t.a,{href:"https://cloud.google.com/billing/docs/how-to/modify-project",children:"billing is enabled"}),". Then, note down the project ID for the next step."]}),"\n",(0,s.jsx)(t.h3,{id:"step-2---setup-defang-for-gcp",children:"Step 2 - Setup Defang for GCP"}),"\n",(0,s.jsxs)(t.p,{children:["In your chat window, type ",(0,s.jsx)(t.code,{children:"/defang.GCP_Setup"})," or select the corresponding prompt from your IDE\u2019s options."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Trigger Prompt",src:o(31064).A+"",width:"471",height:"321"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/prompts",children:"MCP argument"})," will require your GCP project ID you created in ",(0,s.jsx)(t.a,{href:"#step-1---collect-your-credentials-1",children:"Step 1"}),".\n",(0,s.jsx)(t.img,{alt:"GCP Project ID",src:o(12365).A+"",width:"1198",height:"208"})]}),"\n",(0,s.jsx)(t.h3,{id:"step-3---deploy-1",children:"Step 3 - Deploy"}),"\n",(0,s.jsx)(t.p,{children:"Once the prompt completes without errors, your chat input will be automatically populated with the deployment command for the IDE to execute."}),"\n",(0,s.jsx)(t.h3,{id:"step-4---inspect-your-deployment-1",children:"Step 4 - Inspect your deployment"}),"\n",(0,s.jsxs)(t.p,{children:["You can check the status of your depolyment by using the ",(0,s.jsx)(t.a,{href:"../concepts/mcp#services",children:"Defang Services tool"})," or you can inspect the resources created in your GCP Dashboard."]}),"\n",(0,s.jsx)(t.h2,{id:"playground",children:"Playground"}),"\n",(0,s.jsx)(t.h3,{id:"step-1---setting-your-provider",children:"Step 1 - Setting your provider"}),"\n",(0,s.jsxs)(t.p,{children:["In your chat window, type ",(0,s.jsx)(t.code,{children:"/defang.Playground_Setup"})," or select the corresponding prompt from your IDE\u2019s options."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Trigger Prompt",src:o(6615).A+"",width:"468",height:"317"})}),"\n",(0,s.jsx)(t.p,{children:"There are no arguments to this prompt."}),"\n",(0,s.jsx)(t.h3,{id:"step-2---deploy",children:"Step 2 - Deploy"}),"\n",(0,s.jsx)(t.p,{children:"Once the prompt completes without errors, your chat input will be automatically populated with the deployment command for the LLM to execute."}),"\n",(0,s.jsx)(t.h3,{id:"step-3---inspect-your-deployment",children:"Step 3 - Inspect your deployment"}),"\n",(0,s.jsxs)(t.p,{children:["You can check the status of your deployment by using the ",(0,s.jsx)(t.a,{href:"../concepts/mcp#services",children:"Defang Services tool"})," or you can inspect the the project on the ",(0,s.jsx)(t.a,{href:"https://portal.defang.io/projects",children:"Defang portal"}),".\n",(0,s.jsx)(t.img,{alt:"screenshot of the defang portal",src:o(18654).A+"",width:"1928",height:"1481"})]})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);