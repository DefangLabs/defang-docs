"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[5367],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>i});var a=s(96540);const t={},d=a.createContext(t);function r(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(d.Provider,{value:n},e.children)}},44570:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"concepts/managed-storage/managed-redis","title":"Managed Redis","description":"Defang can help you provision managed Redis instances.","source":"@site/docs/concepts/managed-storage/managed-redis.md","sourceDirName":"concepts/managed-storage","slug":"/concepts/managed-storage/managed-redis","permalink":"/docs/concepts/managed-storage/managed-redis","draft":false,"unlisted":false,"editUrl":"https://github.com/DefangLabs/defang-docs/tree/main/docs/concepts/managed-storage/managed-redis.md","tags":[],"version":"current","frontMatter":{"title":"Managed Redis","description":"Defang can help you provision managed Redis instances."},"sidebar":"docsSidebar","previous":{"title":"Managed Postgres","permalink":"/docs/concepts/managed-storage/managed-postgres"},"next":{"title":"MCP Server","permalink":"/docs/concepts/mcp"}}');var t=s(74848),d=s(28453);const r={title:"Managed Redis",description:"Defang can help you provision managed Redis instances."},i="Managed Redis",o={},c=[{value:"Current Support",id:"current-support",level:2},{value:"How to use Managed Redis",id:"how-to-use-managed-redis",level:2},{value:"Final Snapshots",id:"final-snapshots",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"managed-redis",children:"Managed Redis"})}),"\n",(0,t.jsx)(n.p,{children:"Redis is an in-memory data structure store widely used for caching, real-time analytics, and session management due to its high performance, low latency, and support for various data types. Defang can help you provision a managed Redis instance."}),"\n",(0,t.jsx)(n.h2,{id:"current-support",children:"Current Support"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Provider"}),(0,t.jsx)(n.th,{children:"Managed Redis"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/providers/playground#managed-services",children:"Playground"})}),(0,t.jsx)(n.td,{children:"\u26a0\ufe0f Unmanaged"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/providers/aws#managed-storage",children:"AWS"})}),(0,t.jsx)(n.td,{children:"\u2705 Elasticache"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/providers/digitalocean#future-improvements",children:"DigitalOcean"})}),(0,t.jsx)(n.td,{children:"\u26a0\ufe0f Unmanaged"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/providers/gcp#managed-redis",children:"GCP"})}),(0,t.jsx)(n.td,{children:"\u2705 Memorystore"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-use-managed-redis",children:"How to use Managed Redis"}),"\n",(0,t.jsxs)(n.p,{children:["To use managed Redis, in your ",(0,t.jsx)(n.code,{children:"compose.yaml"})," file, use the ",(0,t.jsx)(n.code,{children:"x-defang-redis"})," extension to define your Redis service. Adding the extension will tell Defang to provision a managed instance, rather than running Redis as a service. Defang will use the image tag to determine the version to provision from your cloud provider. Here's an example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"cache:\n  image: redis:6.2\n  x-defang-redis: true\n  restart: unless-stopped\n  ports:\n    - mode: host\n      target: 6379\n"})}),"\n",(0,t.jsx)(n.h2,{id:"final-snapshots",children:"Final Snapshots"}),"\n",(0,t.jsxs)(n.p,{children:["When a project is deployed with the ",(0,t.jsx)(n.code,{children:"production"})," ",(0,t.jsx)(n.a,{href:"/docs/concepts/deployment-modes",children:"deployment mode"}),", any managed Redis instances are automatically\nconfigured to create a snapshot of the datastore before deletion. The snapshot will be named with the following format:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"<project-name>-<service>-redis-<id>-final-snapshot"})}),"\n",(0,t.jsx)(n.p,{children:"The AWS Console can be used to restore a snapshot into a new instance of Redis. This feature is not yet supported on GCP."})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);