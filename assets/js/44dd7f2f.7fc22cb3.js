"use strict";(self.webpackChunkdefang_docs=self.webpackChunkdefang_docs||[]).push([[7776],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(96540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}},54076:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var o=i(60773),s=i(74848),t=i(28453);const r={title:"Deploying n8n to AWS with Defang",description:"A comprehensive guide to deploying n8n workflow automation to AWS using Defang",slug:"n8n-aws-deployment",tags:["n8n","AWS","Deployment","Workflow Automation","DevOps","Tutorial"],author:"Defang Team",date:new Date("2025-10-10T00:00:00.000Z")},l=void 0,a={authorsImageUrls:[void 0]},c=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Install Defang CLI",id:"step-1-install-defang-cli",level:2},{value:"Step 2: Clone the n8n Sample on Defang",id:"step-2-clone-the-n8n-sample-on-defang",level:2},{value:"Step 3: Setup Defang for AWS",id:"step-3-setup-defang-for-aws",level:2},{value:"Step 4: Configure your Credentials",id:"step-4-configure-your-credentials",level:2},{value:"Step 5: Deploy with Defang",id:"step-5-deploy-with-defang",level:2},{value:"Step 6: Configure n8n Settings",id:"step-6-configure-n8n-settings",level:2},{value:"Step 7: Set Up Your First Workflow",id:"step-7-set-up-your-first-workflow",level:2},{value:"Post-Deployment Steps",id:"post-deployment-steps",level:2},{value:"Security Configuration",id:"security-configuration",level:3},{value:"Monitoring and Maintenance",id:"monitoring-and-maintenance",level:3},{value:"Integration Best Practices",id:"integration-best-practices",level:3},{value:"Backup Configuration",id:"backup-configuration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Where to Get Help",id:"where-to-get-help",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/hOlNWu2FX1g",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"n8n is a powerful open-source workflow automation tool that allows you to connect various applications and services together. Defang is your DevOps agent that can deploy any app to any cloud in a single step. In this guide, we'll walk through the process of deploying n8n to your AWS account using Defang."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before getting started, make sure you have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A Defang account (sign up at ",(0,s.jsx)(n.a,{href:"http://defang.io",children:"defang.io"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"An AWS account"}),"\n",(0,s.jsx)(n.li,{children:"Basic knowledge of command-line interface"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-install-defang-cli",children:"Step 1: Install Defang CLI"}),"\n",(0,s.jsx)(n.p,{children:"First, install the Defang CLI tool on your system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'eval "$(curl -fsSL s.defang.io/install)"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Verify the installation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang version\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-clone-the-n8n-sample-on-defang",children:"Step 2: Clone the n8n Sample on Defang"}),"\n",(0,s.jsx)(n.p,{children:"Clone the n8n sample to your directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang new n8n\ncd n8n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once you choose the n8n sample, it'll create the n8n sample for you."}),"\n",(0,s.jsx)(n.h2,{id:"step-3-setup-defang-for-aws",children:"Step 3: Setup Defang for AWS"}),"\n",(0,s.jsxs)(n.p,{children:["Please follow ",(0,s.jsx)(n.a,{href:"https://docs.defang.io/docs/tutorials/deploy-to-aws#step-1---navigate-to-your-project-directory",children:"step #1"})," and ",(0,s.jsx)(n.a,{href:"https://docs.defang.io/docs/tutorials/deploy-to-aws#step-2---configure-your-aws-credentials",children:"step#2"})," in the guide to setup your environment so defang can use your AWS credentials."]}),"\n",(0,s.jsx)(n.h2,{id:"step-4-configure-your-credentials",children:"Step 4: Configure your Credentials"}),"\n",(0,s.jsxs)(n.p,{children:["For this sample, you will need to provide the following ",(0,s.jsx)(n.a,{href:"https://docs.defang.io/docs/concepts/configuration",children:"configuration"}),". Note that if you are using the 1-click deploy option, you can set these values as secrets in your GitHub repository and the action will automatically deploy them for you."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"POSTGRES_PASSWORD"})}),"\n",(0,s.jsx)(n.p,{children:"The password for your Postgres database. You need to set this before deploying for the first time."}),"\n",(0,s.jsxs)(n.p,{children:["You can easily set this to a random string using ",(0,s.jsx)(n.code,{children:"defang config set POSTGRES_PASSWORD --random -Paws"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"N8N_ENCRYPTION_KEY"})}),"\n",(0,s.jsx)(n.p,{children:"The encryption key for your n8n instance. This is used to encrypt sensitive data in the database."}),"\n",(0,s.jsxs)(n.p,{children:["You can easily set this to a random string using ",(0,s.jsx)(n.code,{children:"defang config set N8N_ENCRYPTION_KEY --random -Paws"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DB_POSTGRESDB_SSL_ENABLED"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to enable SSL. Set to false to disable SSL."}),"\n",(0,s.jsx)(n.p,{children:"It is recommended that you deploy your N8N instance with SSL enabled so it would be a managed version of Postgres."}),"\n",(0,s.jsxs)(n.p,{children:["Please enable SSL by using ",(0,s.jsx)(n.code,{children:"defang config set DB_POSTGRESDB_SSL_ENABLED=true -Paws"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to reject unauthorized certificates. Set to false to accept unauthorized certificates. Counterintuitive, but leave this as false to allow managed Postgres to work."}),"\n",(0,s.jsxs)(n.p,{children:["It is recommended that you deploy your N8N instance to accept unauthorized certificates so it would allow managed version of Postgres to work. Please accept unauthorized certificates by using ",(0,s.jsx)(n.code,{children:"defang config set DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false -Paws"})]}),"\n",(0,s.jsx)(n.h2,{id:"step-5-deploy-with-defang",children:"Step 5: Deploy with Defang"}),"\n",(0,s.jsx)(n.p,{children:"Deploy your n8n instance using Defang:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang compose up -Paws\n"})}),"\n",(0,s.jsx)(n.p,{children:"Defang will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Build and package your application"}),"\n",(0,s.jsx)(n.li,{children:"Create the necessary cloud resources"}),"\n",(0,s.jsx)(n.li,{children:"Deploy your n8n instance"}),"\n",(0,s.jsx)(n.li,{children:"Provide you with a public URL"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-6-configure-n8n-settings",children:"Step 6: Configure n8n Settings"}),"\n",(0,s.jsx)(n.p,{children:"Once deployed, Defang will provide you with a URL where your n8n instance is running. Access it through your browser:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://your-n8n-instance.defang.app\n"})}),"\n",(0,s.jsx)(n.p,{children:"Log in using the credentials you set in the environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Username: admin"}),"\n",(0,s.jsx)(n.li,{children:"Password: changeme (remember to change this!)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-7-set-up-your-first-workflow",children:"Step 7: Set Up Your First Workflow"}),"\n",(0,s.jsx)(n.p,{children:"After logging in:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Click on "Create Workflow" to start building your automation'}),"\n",(0,s.jsx)(n.li,{children:'Add nodes by clicking the "+" button'}),"\n",(0,s.jsx)(n.li,{children:"Connect various applications and services"}),"\n",(0,s.jsx)(n.li,{children:'Test your workflow using the "Execute Workflow" button'}),"\n",(0,s.jsx)(n.li,{children:"Activate your workflow when ready"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"post-deployment-steps",children:"Post-Deployment Steps"}),"\n",(0,s.jsx)(n.h3,{id:"security-configuration",children:"Security Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Change Default Credentials"}),": Update your basic auth password immediately"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable SSL"}),": Defang automatically provides SSL certificates"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"monitoring-and-maintenance",children:"Monitoring and Maintenance"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"View Logs"}),": View application logs using:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang logs\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Monitor Performance"}),": Access Defang dashboard to monitor resource usage"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Update n8n"}),": To update to the latest version:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang compose up\n"})}),"\n",(0,s.jsx)(n.h3,{id:"integration-best-practices",children:"Integration Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Webhooks"}),": Configure webhook URLs for external service integrations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Set Up Credentials"}),": Store API keys and credentials securely in n8n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test Workflows"}),": Always test workflows in a staging environment first"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Notifications"}),": Set up error notifications for workflow failures"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"backup-configuration",children:"Backup Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Ensure your n8n data is backed up regularly:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use Defang's volume backup features"}),"\n",(0,s.jsx)(n.li,{children:"Export important workflows regularly from the n8n UI"}),"\n",(0,s.jsx)(n.li,{children:"Store workflow JSON files in version control"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Connection failures"}),": Examine logs:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"defang logs --follow\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Port Issues"}),": Ensure port 5678 is properly exposed in your compose file"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Auth errors"}),": Double-check your environment variables"]}),"\n",(0,s.jsx)(n.h3,{id:"where-to-get-help",children:"Where to Get Help"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Defang ",(0,s.jsx)(n.a,{href:"https://docs.defang.io",children:"Documentation"})]}),"\n",(0,s.jsxs)(n.li,{children:["n8n ",(0,s.jsx)(n.a,{href:"https://docs.n8n.io",children:"Documentation"})]}),"\n",(0,s.jsxs)(n.li,{children:["Defang ",(0,s.jsx)(n.a,{href:"http://s.defang.io/discord",children:"Discord Community"})]}),"\n",(0,s.jsxs)(n.li,{children:["n8n ",(0,s.jsx)(n.a,{href:"https://community.n8n.io/",children:"Community Forum"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"Deploying n8n using Defang lets you bring up a robust, production-grade workflow automation system on AWS with minimal effort. You benefit from built-in SSL, scalable infrastructure, and a simple one-command deployment, while Defang handles provisioning and configuring AWS resources behind the scenes. This integration shifts your focus from managing servers, networking, and security to creating automations and business logic. The combination of n8n's versatile workflow engine, Defang's deployment automation, and AWS's reliable cloud platform forms a powerful and efficient automation stack. Happy automating!"})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},60773:e=>{e.exports=JSON.parse('{"permalink":"/blog/n8n-aws-deployment","source":"@site/blog/2025-10-10-n8n-aws-deployment.md","title":"Deploying n8n to AWS with Defang","description":"A comprehensive guide to deploying n8n workflow automation to AWS using Defang","date":"2025-10-10T00:00:00.000Z","tags":[{"inline":true,"label":"n8n","permalink":"/blog/tags/n-8-n"},{"inline":true,"label":"AWS","permalink":"/blog/tags/aws"},{"inline":true,"label":"Deployment","permalink":"/blog/tags/deployment"},{"inline":true,"label":"Workflow Automation","permalink":"/blog/tags/workflow-automation"},{"inline":true,"label":"DevOps","permalink":"/blog/tags/dev-ops"},{"inline":true,"label":"Tutorial","permalink":"/blog/tags/tutorial"}],"readingTime":4.29,"hasTruncateMarker":false,"authors":[{"name":"Defang Team","key":null,"page":null}],"frontMatter":{"title":"Deploying n8n to AWS with Defang","description":"A comprehensive guide to deploying n8n workflow automation to AWS using Defang","slug":"n8n-aws-deployment","tags":["n8n","AWS","Deployment","Workflow Automation","DevOps","Tutorial"],"author":"Defang Team","date":"2025-10-10T00:00:00.000Z"},"unlisted":false,"nextItem":{"title":"Beyond Heroku: Owning Your Deployments","permalink":"/blog/heroku-to-aws"}}')}}]);