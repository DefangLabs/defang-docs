<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-faq/warnings-errors" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Common Error Messages | Defang</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.defang.io/img/defang-social-card-2.png"><meta data-rh="true" name="twitter:image" content="https://docs.defang.io/img/defang-social-card-2.png"><meta data-rh="true" property="og:url" content="https://docs.defang.io/docs/faq/warnings-errors"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Common Error Messages | Defang"><meta data-rh="true" name="description" content="Common warnings and error messages, and their meanings."><meta data-rh="true" property="og:description" content="Common warnings and error messages, and their meanings."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.defang.io/docs/faq/warnings-errors"><link data-rh="true" rel="alternate" href="https://docs.defang.io/docs/faq/warnings-errors" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.defang.io/docs/faq/warnings-errors" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://O3VFCOSSZ6-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"FAQ","item":"https://docs.defang.io/docs/category/faq"},{"@type":"ListItem","position":2,"name":"Common Error Messages","item":"https://docs.defang.io/docs/faq/warnings-errors"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Defang RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Defang Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Defang" href="/opensearch.xml">



<link rel="icon" href="/img/tab_icon.svg">
<script src="/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.b58fb842.css">
<script src="/assets/js/runtime~main.c2455b7a.js" defer="defer"></script>
<script src="/assets/js/main.0f790484.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://defang.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/defang-logo.svg" alt="Defang Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/defang-logo.svg" alt="Defang Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Defang Home</b></a><a class="navbar__item navbar__link" href="/docs/Intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__item-get_started" href="/docs/getting-started">Get Started</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/intro"><span title="Overview" class="categoryLinkLabel_W154">Overview</span></a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/tutorials"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/providers"><span title="Providers" class="categoryLinkLabel_W154">Providers</span></a><button aria-label="Expand sidebar category &#x27;Providers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/cli"><span title="CLI" class="categoryLinkLabel_W154">CLI</span></a><button aria-label="Expand sidebar category &#x27;CLI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/concepts"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/faq"><span title="FAQ" class="categoryLinkLabel_W154">FAQ</span></a><button aria-label="Collapse sidebar category &#x27;FAQ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq/questions"><span title="Frequently Asked Questions" class="linkLabel_WmDU">Frequently Asked Questions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/faq/warnings-errors"><span title="Common Error Messages" class="linkLabel_WmDU">Common Error Messages</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ask"><span title="Ask Defang" class="linkLabel_WmDU">Ask Defang</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/docs/samples"><span title="Samples" class="linkLabel_WmDU">Samples</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://defang.io/samples" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Samples" class="linkLabel_WmDU">Samples</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/faq"><span>FAQ</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Common Error Messages</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Common Error Messages</h1></header><p>Here are the meanings of common <a href="#warnings">warning</a> and <a href="#errors">error</a> messages you may encounter in the Defang CLI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="warnings">Warnings<a href="#warnings" class="hash-link" aria-label="Direct link to Warnings" title="Direct link to Warnings" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-folder-is-not-empty-files-may-be-overwritten">&quot;The folder is not empty. Files may be overwritten.&quot;<a href="#the-folder-is-not-empty-files-may-be-overwritten" class="hash-link" aria-label="Direct link to &quot;The folder is not empty. Files may be overwritten.&quot;" title="Direct link to &quot;The folder is not empty. Files may be overwritten.&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang generate</code> and the target folder is not empty. If you proceed, Defang will overwrite any existing files with the same name. If you want to keep the existing files, you should move them to a different folder before running <code>defang generate</code> or pick a different target folder.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variable-not-found">&quot;environment variable not found&quot;<a href="#environment-variable-not-found" class="hash-link" aria-label="Direct link to &quot;environment variable not found&quot;" title="Direct link to &quot;environment variable not found&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file references an environment variable that is not set. If you proceed, the environment variable will be empty in the container. If you want to set the environment variable, you should set it in the environment where you run <code>defang compose up</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-platform">&quot;Unsupported platform&quot;<a href="#unsupported-platform" class="hash-link" aria-label="Direct link to &quot;Unsupported platform&quot;" title="Direct link to &quot;Unsupported platform&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file references a platform that is not supported by Defang.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-logged-in">&quot;not logged in&quot;<a href="#not-logged-in" class="hash-link" aria-label="Direct link to &quot;not logged in&quot;" title="Direct link to &quot;not logged in&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose config</code> but you are not logged in. The displayed configuration will be incomplete. If you want to see the complete configuration, you should log in first using <code>defang login</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-port-mode-was-specified-assuming-host">&quot;No port mode was specified; assuming &#x27;host&#x27;&quot;<a href="#no-port-mode-was-specified-assuming-host" class="hash-link" aria-label="Direct link to &quot;No port mode was specified; assuming &#x27;host&#x27;&quot;" title="Direct link to &quot;No port mode was specified; assuming &#x27;host&#x27;&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a <code>port</code> that does not specify a port <code>mode</code>. By default, Defang will keep the port private. If you want to expose the port to the public internet, you should specify the <code>mode</code> as <code>ingress</code>:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  service1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    …</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - target: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mode: ingress</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="published-ports-are-not-supported-in-ingress-mode-assuming-host">&quot;Published ports are not supported in ingress mode; assuming &#x27;host&#x27;&quot;<a href="#published-ports-are-not-supported-in-ingress-mode-assuming-host" class="hash-link" aria-label="Direct link to &quot;Published ports are not supported in ingress mode; assuming &#x27;host&#x27;&quot;" title="Direct link to &quot;Published ports are not supported in ingress mode; assuming &#x27;host&#x27;&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a <code>port</code> with <code>mode</code> set to <code>ingress</code> and <code>published</code> set to a port number. Defang does not support published ports in ingress mode. If you want to expose the port to the public internet, you should specify the <code>mode</code> as <code>ingress</code> and remove the <code>published</code> setting.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-ingress-is-not-supported-assuming-http">&quot;TCP ingress is not supported; assuming HTTP&quot;<a href="#tcp-ingress-is-not-supported-assuming-http" class="hash-link" aria-label="Direct link to &quot;TCP ingress is not supported; assuming HTTP&quot;" title="Direct link to &quot;TCP ingress is not supported; assuming HTTP&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a <code>port</code> with <code>mode</code> set to <code>ingress</code> and <code>protocol</code> set to <code>tcp</code>. Defang does not support arbitrary TCP ingress and will assume the port is used for HTTP traffic. To silence the warning, remove the <code>protocol</code> setting.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-compose-directive">&quot;unsupported compose directive&quot;<a href="#unsupported-compose-directive" class="hash-link" aria-label="Direct link to &quot;unsupported compose directive&quot;" title="Direct link to &quot;unsupported compose directive&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a directive that is not supported by Defang. The deployment will continue, but the unsupported directive will be ignored, which may cause unexpected behavior.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-reservations-specified-using-limits-as-reservations">&quot;no reservations specified; using limits as reservations&quot;<a href="#no-reservations-specified-using-limits-as-reservations" class="hash-link" aria-label="Direct link to &quot;no reservations specified; using limits as reservations&quot;" title="Direct link to &quot;no reservations specified; using limits as reservations&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a <code>resource</code> with <code>limits</code> but no <code>reservations</code>. Defang will use the <code>limits</code> as <code>reservations</code> to ensure the container has enough resources. Specify <code>reservations</code> if you want to silence the warning or reserve a different amount of resources:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  service1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    …</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deploy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reservations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cpus: 0.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          memory: 512MB</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress-port-without-healthcheck-defaults-to-get--http11">&quot;ingress port without healthcheck defaults to GET / HTTP/1.1&quot;<a href="#ingress-port-without-healthcheck-defaults-to-get--http11" class="hash-link" aria-label="Direct link to &quot;ingress port without healthcheck defaults to GET / HTTP/1.1&quot;" title="Direct link to &quot;ingress port without healthcheck defaults to GET / HTTP/1.1&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares an <code>ingress</code> with a <code>port</code> but no <code>healthcheck</code>. Defang will assume the default healthcheck of <code>GET / HTTP/1.1</code> to ensure the port is healthy. Specify a <code>healthcheck</code> if you want to silence the warning or use a different healthcheck:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  service1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    …</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deploy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      healthcheck:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:80/health&quot;]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="missing-memory-reservation-specify-deployresourcesreservationsmemory-to-avoid-out-of-memory-errors">&quot;missing memory reservation; specify deploy.resources.reservations.memory to avoid out-of-memory errors&quot;<a href="#missing-memory-reservation-specify-deployresourcesreservationsmemory-to-avoid-out-of-memory-errors" class="hash-link" aria-label="Direct link to &quot;missing memory reservation; specify deploy.resources.reservations.memory to avoid out-of-memory errors&quot;" title="Direct link to &quot;missing memory reservation; specify deploy.resources.reservations.memory to avoid out-of-memory errors&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file doesn&#x27;t specify a <code>memory</code> reservation. If available, Defang will use the <code>memory</code> limit as the <code>memory</code> reservation. Specify a <code>memory</code> reservation if you want to silence the warning or reserve a different amount of memory:</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  service1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    …</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deploy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reservations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          memory: 512MB</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-build-context-contains-more-than-10-files">&quot;The build context contains more than 10 files&quot;<a href="#the-build-context-contains-more-than-10-files" class="hash-link" aria-label="Direct link to &quot;The build context contains more than 10 files&quot;" title="Direct link to &quot;The build context contains more than 10 files&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> and the Compose file declares a <code>build</code> with a <code>context</code> that contains more than 10 files. Ensure the context refers to the correct folder. Defang will use the <code>context</code> as is, but you may experience slow build times. If you want to speed up the build, you should reduce the number of files in the <code>context</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-provider-was-selected-but-aws-environment-variables-are-not-set">&quot;AWS provider was selected, but AWS environment variables are not set&quot;<a href="#aws-provider-was-selected-but-aws-environment-variables-are-not-set" class="hash-link" aria-label="Direct link to &quot;AWS provider was selected, but AWS environment variables are not set&quot;" title="Direct link to &quot;AWS provider was selected, but AWS environment variables are not set&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> with the <code>--provider=aws</code> but none of the AWS environment variables were set. If you proceed, the deployment might fail, unless you have defined defined <code>default</code> credentials in the AWS configuration files or are running on an AWS instance.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-defang-provider-but-aws-environment-variables-were-detected">&quot;Using Defang provider, but AWS environment variables were detected&quot;<a href="#using-defang-provider-but-aws-environment-variables-were-detected" class="hash-link" aria-label="Direct link to &quot;Using Defang provider, but AWS environment variables were detected&quot;" title="Direct link to &quot;Using Defang provider, but AWS environment variables were detected&quot;" translate="no">​</a></h3>
<ul>
<li>This message is displayed when you run <code>defang compose up</code> with the <code>--provider=defang</code> but AWS environment variables were detected. The AWS environment variables will be ignored.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a href="#errors" class="hash-link" aria-label="Direct link to Errors" title="Direct link to Errors" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stack-is-in-update_complete_cleanup_in_progress-state-and-cannot-be-updated">&quot;Stack:… is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and cannot be updated&quot;<a href="#stack-is-in-update_complete_cleanup_in_progress-state-and-cannot-be-updated" class="hash-link" aria-label="Direct link to &quot;Stack:… is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and cannot be updated&quot;" title="Direct link to &quot;Stack:… is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and cannot be updated&quot;" translate="no">​</a></h3>
<ul>
<li>This happens if different version of the Defang CLI are used with the same AWS account. Each version one will try to update the CD stack to its version, back and forth. Make sure that all users have the same version of the CLI. Check the CLI version using <code>defang version</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="invalid-healthcheck-ingress-ports-require-an-http-healthcheck-on-localhost">&quot;invalid healthcheck: ingress ports require an HTTP healthcheck on <code>localhost</code>.&quot;<a href="#invalid-healthcheck-ingress-ports-require-an-http-healthcheck-on-localhost" class="hash-link" aria-label="Direct link to invalid-healthcheck-ingress-ports-require-an-http-healthcheck-on-localhost" title="Direct link to invalid-healthcheck-ingress-ports-require-an-http-healthcheck-on-localhost" translate="no">​</a></h3>
<ul>
<li>This message is displayed when <code>defang compose up</code> tries to deploy a service with an &quot;ingress&quot; port, if the service does not have a <code>healthcheck</code> which mentions <code>localhost</code>. Defang routes a load balancer to your service&#x27;s ingress ports, and the loadbalancer needs to be able to check the health of the service. To solve this issue, ask yourself these two questions:</li>
</ul>
<ol>
<li>
<p>Should my service be public? It&#x27;s common to declare your container&#x27;s ports using the Compose file &quot;shorthand&quot; syntax (<code>1234:1234</code>). This syntax can be understood as <code>[HOST:]CONTAINER</code>. If your service is not intended to be public, you do not need to declare a HOST port. For example:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    my-service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      image: my-image</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">       - &quot;1234:1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       - &quot;1234&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>Does my healthcheck include the string <code>localhost</code>? It is very common to define a healthcheck by using <code>curl</code> or <code>wget</code> to make a request to <code>localhost</code>. So common, in fact, that Defang will look for the string <code>localhost</code> in your healthcheck definition. For example, this healthcheck is valid:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:1234/health&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>This healthcheck is not valid for <code>ingress</code> ports:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./my-healthcheck&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-build-aborted-with-outofmemoryerror-container-killed-due-to-memory-usage">&quot;The build aborted with OutOfMemoryError: Container killed due to memory usage&quot;<a href="#the-build-aborted-with-outofmemoryerror-container-killed-due-to-memory-usage" class="hash-link" aria-label="Direct link to &quot;The build aborted with OutOfMemoryError: Container killed due to memory usage&quot;" title="Direct link to &quot;The build aborted with OutOfMemoryError: Container killed due to memory usage&quot;" translate="no">​</a></h3>
<p>The image build might fail if the build process uses too much memory. The first thing to try is to limit the size of your project by excluding unnecessary files: the easiest way is to create a <code>.dockerignore</code> file that excludes irrelevatn files. Note that Defang will use a default <code>.dockerignore</code> file if you don&#x27;t have one, but that default might not work for some projects and it&#x27;s always better to make a <code>.dockerignore</code> file specific to your project.</p>
<p>If that doesn&#x27;t work, see our <a href="/docs/concepts/resources#build-time-resources">Resources</a> documentation for more information on how to configure the memory requirements and disk space requirements for your image builds.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/DefangLabs/defang-docs/tree/main/docs/faq/warnings-errors.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/faq/questions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frequently Asked Questions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ask"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ask Defang</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#warnings" class="table-of-contents__link toc-highlight">Warnings</a><ul><li><a href="#the-folder-is-not-empty-files-may-be-overwritten" class="table-of-contents__link toc-highlight">&quot;The folder is not empty. Files may be overwritten.&quot;</a></li><li><a href="#environment-variable-not-found" class="table-of-contents__link toc-highlight">&quot;environment variable not found&quot;</a></li><li><a href="#unsupported-platform" class="table-of-contents__link toc-highlight">&quot;Unsupported platform&quot;</a></li><li><a href="#not-logged-in" class="table-of-contents__link toc-highlight">&quot;not logged in&quot;</a></li><li><a href="#no-port-mode-was-specified-assuming-host" class="table-of-contents__link toc-highlight">&quot;No port mode was specified; assuming &#39;host&#39;&quot;</a></li><li><a href="#published-ports-are-not-supported-in-ingress-mode-assuming-host" class="table-of-contents__link toc-highlight">&quot;Published ports are not supported in ingress mode; assuming &#39;host&#39;&quot;</a></li><li><a href="#tcp-ingress-is-not-supported-assuming-http" class="table-of-contents__link toc-highlight">&quot;TCP ingress is not supported; assuming HTTP&quot;</a></li><li><a href="#unsupported-compose-directive" class="table-of-contents__link toc-highlight">&quot;unsupported compose directive&quot;</a></li><li><a href="#no-reservations-specified-using-limits-as-reservations" class="table-of-contents__link toc-highlight">&quot;no reservations specified; using limits as reservations&quot;</a></li><li><a href="#ingress-port-without-healthcheck-defaults-to-get--http11" class="table-of-contents__link toc-highlight">&quot;ingress port without healthcheck defaults to GET / HTTP/1.1&quot;</a></li><li><a href="#missing-memory-reservation-specify-deployresourcesreservationsmemory-to-avoid-out-of-memory-errors" class="table-of-contents__link toc-highlight">&quot;missing memory reservation; specify deploy.resources.reservations.memory to avoid out-of-memory errors&quot;</a></li><li><a href="#the-build-context-contains-more-than-10-files" class="table-of-contents__link toc-highlight">&quot;The build context contains more than 10 files&quot;</a></li><li><a href="#aws-provider-was-selected-but-aws-environment-variables-are-not-set" class="table-of-contents__link toc-highlight">&quot;AWS provider was selected, but AWS environment variables are not set&quot;</a></li><li><a href="#using-defang-provider-but-aws-environment-variables-were-detected" class="table-of-contents__link toc-highlight">&quot;Using Defang provider, but AWS environment variables were detected&quot;</a></li></ul></li><li><a href="#errors" class="table-of-contents__link toc-highlight">Errors</a><ul><li><a href="#stack-is-in-update_complete_cleanup_in_progress-state-and-cannot-be-updated" class="table-of-contents__link toc-highlight">&quot;Stack:… is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and cannot be updated&quot;</a></li><li><a href="#invalid-healthcheck-ingress-ports-require-an-http-healthcheck-on-localhost" class="table-of-contents__link toc-highlight">&quot;invalid healthcheck: ingress ports require an HTTP healthcheck on <code>localhost</code>.&quot;</a></li><li><a href="#the-build-aborted-with-outofmemoryerror-container-killed-due-to-memory-usage" class="table-of-contents__link toc-highlight">&quot;The build aborted with OutOfMemoryError: Container killed due to memory usage&quot;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sections</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/providers">Providers</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/cli">CLI Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/concepts">Concepts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ask">Ask Defang</a></li><li class="footer__item"><a href="https://defang.io/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Samples<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/DefangLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://s.defang.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/DefangLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/defang/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@DefangLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>